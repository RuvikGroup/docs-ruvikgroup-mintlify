---
title: "Horizontal Scaling with Jubley"
description: "Learn how to create new branded applications from the Jubley base"
---

# Horizontal Scaling

Jubley serves as the foundation for creating multiple branded applications. Through a series of automated scripts, you can transform the base Jubley application into a completely new branded experience, each with its own unique identity and configuration.

## Prerequisites

Before running any scripts, you need to set up the following third-party services for your new brand based on the environtment variables we use.

### App Environment Variables

- Go to the root of the project and create or update `.env` with the new variables:

```bash
# FACEBOOK CONSTANTS
# Find this in your Facebook for Developers
# dashboard: https://developers.facebook.com/apps/
FACEBOOK_ID = ''

# APPLE
# Find this in your Apple Developer account
# under "Identifiers" for your Service ID.
APPLE_CLIENT_ID = ''

# These are configured in your Apple Developer account
# under the Service ID configuration.
APPLE_REDIRECT_URI = ''
APPLE_REDIRECT_URI_WEB = ''

# The Bundle ID of your app, found in
# your Apple Developer account.
APPLE_APP_ID = ''

# REVENUECAT CONSTANTS
# Find these in your RevenueCat dashboard
# https://app.revenuecat.com/
REVENUE_CAT_API_KEY_APPLE = ''
REVENUE_CAT_API_KEY_GOOGLE = ''


# These are the identifiers for your entitlements in RevenueCat.
REVENUE_CAT_PREMIUM_ENTITLEMENT_ID = ''
REVENUE_CAT_VIP_ENTITLEMENT_ID = ''
REVENUE_CAT_API_KEY_WEB = ''


# API CONSTANTS
# Your application's backend API configuration.
API_VERSION = ''
PROD_URL = ''
STAG_URL = ''


# Your application's web frontend URLs.
WEB_PROD_URL = ''
WEB_STAG_URL = ''


# APP CONSTANTS
# The display name for your brand.
BRAND_NAME = ''


# GOOGLE PLACES API & MAPBOX
# Find this in your Google Cloud Console
# https://console.cloud.google.com/apis/credentials
GOOGLE_PLACES_API_KEY = ''


# Find this in your Mapbox account dashboard
# https://account.mapbox.com/
MAPBOX_ACCESS_TOKEN=''


# SENTRY
# Find these in your Sentry
# project settings under "Client Keys (DSN)".
SENTRY_DSN_PROD = ''
SENTRY_DSN_STAG = ''


# GOOGLE_SIGNIN_CLIENT_ID
# Find these in Google Cloud Console >
# APIs & Services > Credentials (Web client ID).
GOOGLE_SIGNIN_CLIENT_ID_STAG = ''
GOOGLE_SIGNIN_CLIENT_ID_PROD = ''


# ALGOLIA
# Find these in your Algolia Dashboard > API Keys.
ALGOLIA_KEY_STAG = ''
ALGOLIA_APP_ID_STAG = ''
ALGOLIA_APP_ID_PROD = ''
ALGOLIA_KEY_PROD = ''


# GIPHY_API_KEY
# Get this from the Giphy Developer Portal
# https://developers.giphy.com/
GIPHY_API_KEY_PROD = ''
GIPHY_API_KEY_STAG = ''


# ONE SIGNAL
# Find these in your OneSignal dashboard.
ONE_SIGNAL_STAG_APP_ID = ''
ONE_SIGNAL_PROD_APP_ID = ''


# GOOGLE TAG MANAGER ID
# Find these in your Google Tag Manager dashboard.
GOOGLE_TAG_MANAGER_ID_STAG = ''
GOOGLE_TAG_MANAGER_ID_PROD = ''

# POSTHOG
# Find this in your PostHog dashboard.
POSTHOG_KEY = ''

# SUPABASE
# Find these in your Supabase
# project dashboard > Project Settings > API.
SUPABASE_URL_STAG = ''
SUPABASE_ANON_KEY_STAG = ''
SUPABASE_URL_PROD = ''
SUPABASE_ANON_KEY_PROD = ''


```

## How It Works

<CardGroup cols={2}>
  <Card title="Base Application" icon="code">
    Jubley provides the core functionality and features
  </Card>
  <Card title="Brand Transformation" icon="wand-magic-sparkles">
    Automated scripts transform the base into a new branded app
  </Card>
  <Card title="Configuration System" icon="gear">
    Comprehensive configuration for each brand instance
  </Card>
  <Card title="Resource Management" icon="server">
    Independent resource allocation for each brand
  </Card>
</CardGroup>

## Brand Configuration

<CardGroup cols={2}>
  <Card title="Brand Identity" icon="paintbrush">
    Customize brand name, URLs, and package identifiers
  </Card>
  <Card title="Visual Design" icon="palette">
    Configure colors, fonts, and theme settings
  </Card>
  <Card title="Platform Setup" icon="mobile">
    Android and iOS package configuration
  </Card>
  <Card title="Localization" icon="globe">
    Language and regional settings
  </Card>
</CardGroup>

## Transformation Process

The automated scripts handle:

- Brand name and URL configuration
- Android package name and iOS bundle ID setup
- Theme customization (colors, fonts)
- Asset management and organization
- Platform-specific configurations
- Firebase setup
- iOS project configuration

## Step-by-Step Process

### 1. Service Setup

Before running any scripts, ensure you have:

1. Created all required third-party service accounts
2. Collected all necessary API keys and credentials
3. Set up app store listings
4. Configured analytics and monitoring
5. Set up backend services
6. Prepared payment and subscription systems

### 2. Initial Setup

Run the configuration script with your brand name:

```bash
./scripts/configs.sh <brand_name>
```

This initiates the brand configuration process. The script will:

- Validate the brand name
- Check for existing configurations
- Prepare for the transformation

### 3. Brand Configuration

The script will prompt for:

- Brand display name
- Production URL (default: web.brand.com)
- Staging URL (default: webstaging.brand.com)
- Android package name (default: com.brand.app)
- iOS bundle ID (default: com.brand.app)
- Brand description

### 4. Theme Configuration

Configure the visual identity:

- Primary font (default: Urbanist)
- Secondary font (default: Hellix)
- Primary color (default: #4B164C)
- Secondary color (default: #DD88CF)

### 5. Automated Script Execution

The following scripts run in sequence:

1. **Product Flavor Setup**

   ```bash
   ./scripts/add_product_flavor_0.sh
   ```

   - Adds Android product flavors
   - Configures build variants

2. **Asset Management**

   ```bash
   ./scripts/copy_brand_assets_1.sh
   ```

   - Creates brand-specific asset directories
   - Sets up asset prefixes

3. **Dependencies Update**

   ```bash
   ./scripts/update_pubspec_3.sh
   ```

   - Updates Flutter dependencies
   - Configures brand-specific packages

4. **YAML Configuration**

   ```bash
   ./scripts/update_yaml_configs_4.sh
   ```

   - Updates various YAML configurations
   - Sets up brand-specific settings

5. **Firebase Setup**

   ```bash
   ./scripts/copy_firebase_config_5.sh
   ```

   - Configures Firebase for the new brand
   - Sets up Firebase project settings

6. **iOS Configuration**

   ```bash
   ./scripts/copy_ios_config_6.sh
   ./scripts/update_ios_project_7.sh
   ```

   - Sets up iOS-specific configurations
   - Updates iOS project settings

### 6. Web Configuration

The script automatically updates:

- `web/manifest.json`
  - Application name
  - Short name
  - Description
- `web/index.html`
  - Page title
  - Mobile web app title

### 7. Verification Steps

After completion, verify:

1. Configuration in `assets/config/white_label.yaml`
2. Product flavors in `android/app/build.gradle`
3. Assets copies in `assets/<brand_name>`
4. iOS xconfig files created in `ios/Flutter`
5. OneSignal entitlement created in `ios/OneSignalNotificationServiceExtension`
6. Brand name updated in `ios/Runner/Info.plist`
7. Runners created in `ios/Podfile`
8. `index.html` updated inside `web` folder
9. `manifest.json` updated inside `web` folder
10. `flutter_native_splash.yaml` is updated
11. `melos.yaml` is updated
12. `pubspec.yaml` is updated
13. Remove all configs unrelated with the specific brand (e.g. assets in `pubspec.yaml`, flavors in `build.gradle`)

## Updating assets

### Images

> It's important to replace the images with new ones of the exact same name, dimensions and format to avoid layout or performance issues.

- Go to `assets/<brand_name>/images` and update brand specific assets:

  - `banned_user.webp`
  - `bg_subscription_gold.webp`
  - `bg_subscription_premium.webp`
  - `enable_location.webp`
  - `female1.webp`
  - `female2.webp`
  - `female3.webp`
  - `magicLink.webp`
  - `landing_loading.webp`
  - `logo.webp`
  - `logo_on_white.webp`
  - `male1.webp`
  - `male2.webp`
  - `male3.webp`
  - `male4.webp`
  - `onboarding_chat_1.png`
  - `onboarding_chat_2.png`
  - `onboarding_chat_3.png`
  - `onboarding_discover_1.png`
  - `onboarding_discover_2.png`
  - `onboarding_discover_3.png`
  - `onboarding_image.png`
  - `onboarding_profile_1.png`
  - `onboarding_profile_2.png`
  - `onboarding_profile_3.png`
  - `onboarding_welcome_1.png`
  - `onboarding_welcome_2.png`
  - `onboarding_welcome_3.png`
  - `empty_image.webp`
  - `background.webp`
  - `logo_full.webp`

### Vectors

> It's important to replace the vectors with new ones of the exact same name and format to avoid layout or performance issues.

- Go to `assets/<brand_name>/vectors` and update brand specific assets:

  - `donwload_android.svg.vec`
  - `download_ios.svg.vec`
  - `empty_chats.svg.vec`
  - `empty_discover.svg.vec`
  - `empty_gallery.svg.vec`
  - `empty_match.svg.vec`
  - `empty_matches.svg.vec`
  - `empty_messages.svg.vec`
  - `empty_notications.svg.vec`
  - `error_bug.svg.vec`
  - `ic_app_settings.svg.vec`
  - `ic_attachment.svg.vec`
  - `ic_billing.svg.vec`
  - `ic_blog.svg.vec`
  - `ic_calendar.svg.vec`
  - `ic_camera.svg.vec`
  - `ic_chat_active.svg.vec`
  - `ic_chat_inactive.svg.vec`
  - `ic_chat_thin.svg.vec`
  - `ic_credit.svg.vec`
  - `ic_dislinke.svg.vec`
  - `ic_explore_active.svg.vec`
  - `ic_explore_inactive.svg.vec`
  - `ic_faq.svg.vec`
  - `ic_filter.svg.vec`
  - `ic_flower.svg.vec`
  - `ic_friends.svg.vec`
  - `ic_gender_female.svg.vec`
  - `ic_gender_male.svg.vec`
  - `ic_gif.svg.vec`
  - `ic_heart_active.svg.vec`
  - `ic_heart_inactive.svg.vec`
  - `ic_height.svg.vec`
  - `ic_help_center.svg.vec`
  - `ic_incognito.svg.vec`
  - `ic_info.svg.vec`
  - `ic_instant_chat.svg.vec`
  - `ic_language.svg.vec`
  - `ic_link.svg.vec`
  - `ic_location_request.svg.vec`
  - `ic_logout.svg.vec`
  - `ic_love.svg.vec`
  - `ic_map_pin.svg.vec`
  - `ic_map_pin_outline.svg.vec`
  - `ic_megaphone.svg.vec`
  - `ic_message.svg.vec`
  - `ic_more.svg.vec`
  - `ic_notification_active.svg.vec`
  - `ic_notification_inactive.svg.vec`
  - `ic_online_active.svg.vec`
  - `ic_passport.svg.vec`
  - `ic_photo.svg.vec`
  - `ic_preferences.svg.vec`
  - `ic_premium_search.svg.vec`
  - `ic_privacy.svg.vec`
  - `ic_profile_active.svg.vec`
  - `ic_profile_inactive.svg.vec`
  - `ic_religion.svg.vec`
  - `ic_scale.svg.vec`
  - `ic_search.svg.vec`
  - `ic_security.svg.vec`
  - `ic_send.svg.vec`
  - `ic_settings.svg.vec`
  - `ic_share.svg.vec`
  - `ic_sub_gold.svg.vec`
  - `ic_sub_purple.svg.vec`
  - `ic_subs_star.svg.vec`
  - `ic_terms.svg.vec`
  - `ic_twitter.svg.vec`
  - `ic_username.svg.vec`
  - `ic_zap.svg.vec`
  - `in_app_review.svg.vec`
  - `missing_page.svg.vec`
  - `missing_route.svg.vec`
  - `no_location.svg.vec`
  - `text_accent.svg.vec`
  - `text_brush.svg.vec`
  - `update_app_absract.svg.vec`
  - `update_app_absract_2.svg.vec`
  - `wheel.svg.vec`
  - `wheel_success.svg.vec`
  - `stopwatch.svg.vec`
  - `cheers.svg.vec`
  - `cigarette.svg.vec`
  - `globe.svg.vec`
  - `hands_praying.svg.vec`
  - `heart.svg.vec`
  - `location_pin.svg.vec`
  - `person.svg.vec`
  - `ruler.svg.vec`
  - `scales.svg.vec`
  - `translate.svg.vec`
  - `ic_baby.svg.vec`
  - `ic_globe.svg.vec`
  - `ic_cigarette.svg.vec`
  - `ic_nav_arrow.svg.vec`
  - `ic_gender_search.svg.vec`
  - `ic_city.svg.vec`
  - `maintenance.svg.vec`

# Dependencies & Code Gen

This project uses `build_runner` to generate necessary code for features like serialization and dependency injection.

First, clean the project and fetch the dependencies:

```bash
flutter clean && flutter pub get
```

Then, run the following command from the root of the project to install packages with Melos:

```bash
flutter pub run melos bs
```

Then, run the following command from the root of the project to generate the code:

```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

# Generating Splash Screen

This project uses the `flutter_native_splash` package to create native splash screens for Android, iOS, and Web.

Run the following command from the root of the project to generate the native splash screens for your brand:

```bash
dart run flutter_native_splash:create
```

# Generating Launcher Icons

This project uses the `flutter_launcher_icons` package to create app icons for Android and iOS.

Run the following command to generate the launcher icons:

```bash
dart run flutter_launcher_icons:generate
```

# Ready to Rock!

You have successfully configured your new brand, set up all the necessary environment variables and third-party services, and generated the required assets and code.

Your new application is now ready to be built, tested, and deployed. Good luck!
